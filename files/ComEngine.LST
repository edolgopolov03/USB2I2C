C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 1   


C51 COMPILER V9.50a, COMPILATION OF MODULE COMENGINE
OBJECT MODULE PLACED IN ComEngine.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.exe ComEngine.c DB OE CD INCDIR(c:\SiLabs\MCU\Inc) COMPACT

line level    source

   1          #include "ComEngine.h"
   2          #include <stdio.h>
   3          #include "uart.h"
   4          
   5          xdata unsigned char buf [10];
   6          xdata int i;
   7          
   8          void SendByte_volkovStyle(unsigned char nch, unsigned char adr, int N)
   9          {
  10   1              unsigned char xSum = (unsigned char) 0;
  11   1              SendByte(nch, START); // SendStart
  12   1              SendByte(nch, adr);  // Send Adress of Device
  13   1              xSum = adr;
  14   1              for (i = 0; i<N; i++)
  15   1              {
  16   2                      if (buf[i]!=START & buf[i]!=STOP & buf[i]!=SHIFT)
  17   2                      {
  18   3                              SendByte(nch, buf[i]); //Send Package if it's not START STOP or SHIFT
  19   3                      } else
  20   2                      {
  21   3                              SendByte(nch, SHIFT);
  22   3                              SendByte(nch, buf[i] - START);
  23   3                      }
  24   2                      xSum = xSum^buf[i];
  25   2              }
  26   1              SendByte(nch, xSum);
  27   1              SendByte(nch, STOP);
  28   1      }
  29          
  30          
  31          void clear_buf()
  32          {
  33   1              for (i = 0; i<10; i++)
  34   1              {
  35   2                      buf[i] = 0;
  36   2              }
  37   1      }
  38          
  39          int identify()
  40          {
  41   1              clear_buf();
  42   1              buf[0] = 1;
  43   1              return 1;        
  44   1      }
  45          
  46          int repeat_last_ans()
  47          {
  48   1              clear_buf();
  49   1              buf[0] = 2;
  50   1              return 1;        
  51   1      }
  52          
  53          int get_state()
  54          {
  55   1              clear_buf();
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 2   

  56   1              buf[0] = 3;
  57   1              return 1;        
  58   1      }
  59          
  60          int move(long Nstep, unsigned char STOPCOND)
  61          {
  62   1              clear_buf();
  63   1              buf[0] = 4;
  64   1              buf[1] = Mask&(Nstep >> 24);
  65   1              buf[2] = Mask&(Nstep >> 16);
  66   1              buf[3] = Mask&(Nstep >> 8);
  67   1              buf[4] = Mask&(Nstep);
  68   1              buf[5] = STOPCOND;
  69   1              return 6;        
  70   1      }
  71          
  72          int move_without_ac(long Nstep, unsigned char STOPCOND)
  73          {
  74   1              clear_buf();
  75   1              buf[0] = 5;
  76   1              buf[1] = Mask&(Nstep >> 24);
  77   1              buf[2] = Mask&(Nstep >> 16);
  78   1              buf[3] = Mask&(Nstep >> 8);
  79   1              buf[4] = Mask&(Nstep);
  80   1              buf[5] = STOPCOND;
  81   1              return 6;
  82   1      }
  83          
  84          int config(unsigned char mov_cur, unsigned char hold_cur, unsigned char hold_delay, unsigned char CFG)
  85          {
  86   1              clear_buf();
  87   1              buf[0] = 6;
  88   1              buf[1] = mov_cur; // 0-0A, 1-0.2A, 2-0.3A, 3-0.5A, 4-0.6A, 5-1.0A, 6-2.0A, 7-3.5A 
  89   1              buf[2] = hold_cur;// 0-0A, 1-0.2A, 2-0.3A, 3-0.5A, 4-0.6A, 5-1.0A, 6-2.0A, 7-3.5A 
  90   1              buf[3] = hold_delay;// time[s] = hold_delay / 30
  91   1              buf[4] = CFG; // [AccLeave, LeaveK, SoftK, sensor, K+, K-, 0, half]
  92   1              return 5;
  93   1      } 
  94          
  95          int speed(unsigned int min_speed, unsigned int max_speed, unsigned int acceleration)
  96          {
  97   1              clear_buf();
  98   1              buf[0] = 7;
  99   1              buf[1] = Mask&(min_speed >> 8);
 100   1              buf[2] = Mask&(min_speed);
 101   1              buf[3] = Mask&(max_speed >> 8);
 102   1              buf[4] = Mask&(max_speed);
 103   1              buf[5] = Mask&(acceleration >> 8);
 104   1              buf[6] = Mask&(acceleration);
 105   1              return 7;
 106   1      }
 107          
 108          int forced_stop()
 109          {
 110   1              clear_buf();
 111   1              buf[0] = 8;
 112   1              return 1;        
 113   1      }
 114          
 115          int off_curr()
 116          {
 117   1              clear_buf();
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 3   

 118   1              buf[0] = 9;
 119   1              return 1;        
 120   1      }
 121          
 122          int save_param()
 123          {
 124   1              clear_buf();
 125   1              buf[0] = 10;
 126   1              return 1;        
 127   1      }
 128          
 129          int set_imp(unsigned int N, unsigned int Nstart, unsigned int Nrepeat)
 130          {
 131   1              clear_buf();
 132   1              buf[0] = 11;
 133   1              buf[1] = Mask&(N >> 8);
 134   1              buf[2] = Mask&(N);
 135   1              buf[3] = Mask&(Nstart >> 8);
 136   1              buf[4] = Mask&(Nstart);
 137   1              buf[5] = Mask&(Nrepeat >> 8);
 138   1              buf[6] = Mask&(Nrepeat);
 139   1              return 7;
 140   1      }
 141          
 142          int missed_steps()
 143          {
 144   1              clear_buf();
 145   1              buf[0] = 12;
 146   1              return 1;        
 147   1      }
 148          
 149          int read_config()
 150          {
 151   1              clear_buf();
 152   1              buf[0] = 13;
 153   1              return 1;        
 154   1      }
 155          
 156          int read_speed()
 157          {
 158   1              clear_buf();
 159   1              buf[0] = 14;
 160   1              return 1;        
 161   1      }
 162          
 163          int freq_test()
 164          {
 165   1              clear_buf();
 166   1              buf[0] = 15;
 167   1              return 1;        
 168   1      }
 169          
 170          
 171          int calibration(long Period)
 172          {
 173   1              clear_buf();
 174   1              buf[0] = 16;
 175   1              buf[1] = Mask&(Period >> 24);
 176   1              buf[2] = Mask&(Period >> 16);
 177   1              buf[3] = Mask&(Period >> 8);
 178   1              buf[4] = Mask&(Period);
 179   1              return 5;        
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 4   

 180   1      }
 181          
 182          int move_precision_accuracy(long Nstep, long dt)
 183          {
 184   1              clear_buf();
 185   1              buf[0] = 17;
 186   1              buf[1] = Mask&(Nstep >> 24);
 187   1              buf[2] = Mask&(Nstep >> 16);
 188   1              buf[3] = Mask&(Nstep >> 8);
 189   1              buf[4] = Mask&(Nstep);
 190   1              buf[5] = Mask&(dt >> 24); // dt - time between steps in nanoseconds
 191   1              buf[6] = Mask&(dt >> 16);
 192   1              buf[7] = Mask&(dt >> 8);
 193   1              buf[8] = Mask&(dt);
 194   1              return 9;        
 195   1      }
 196          
 197          int output_imp()
 198          {
 199   1              clear_buf();
 200   1              buf[0] = 18;
 201   1              return 1;        
 202   1      }
 203          
 204          int set_abs_coord(long coord)
 205          {
 206   1              clear_buf();
 207   1              buf[0] = 19;
 208   1              buf[1] = Mask&(coord >> 24);
 209   1              buf[2] = Mask&(coord >> 16);
 210   1              buf[3] = Mask&(coord >> 8);
 211   1              buf[4] = Mask&(coord);
 212   1              return 5;        
 213   1      }
 214          
 215          int get_abs_coord()
 216          {
 217   1              clear_buf();
 218   1              buf[0] = 20;
 219   1              return 1;        
 220   1      }
 221          
 222          int syncr(unsigned char flags)
 223          {
 224   1              clear_buf();
 225   1              buf[0] = 21;
 226   1              buf[1] = flags; // [0,0,0,0,0,go, block, broadcast]
 227   1              return 2;        
 228   1      }
 229          
 230          int set_addr_2(unsigned int num, unsigned char rate, unsigned char addr)
 231          {
 232   1              // BAUDRATE = 600
 233   1              clear_buf();
 234   1              buf[0] = 0;
 235   1              buf[1] = START;
 236   1              buf[2] = 'W';
 237   1              buf[3] = 'S';
 238   1              buf[4] = Mask&(num >> 8);
 239   1              buf[5] = Mask&(num);
 240   1              buf[6] = rate; // 0-1200;1-2400;2-4800;3-9600;4-19200;5-38400;6-57600
 241   1              buf[7] = addr;
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 5   

 242   1              return 8;
 243   1      }
 244          
 245          int set_addr_1(unsigned char rate, unsigned char addr)
 246          {
 247   1              // BAUDRATE = 600
 248   1              clear_buf();
 249   1              buf[0] = 0x55;
 250   1              buf[1] = rate; // 0-1200;1-2400;2-4800;3-9600;4-19200;5-38400;6-57600
 251   1              buf[2] = addr;
 252   1              return 3;
 253   1      }
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 6   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION _SendByte_volkovStyle (BEGIN)
                                           ; SOURCE LINE # 8
0000 7800        R     MOV     R0,#LOW adr
0002 ED                MOV     A,R5
0003 F2                MOVX    @R0,A
0004 08                INC     R0
0005 EA                MOV     A,R2
0006 F2                MOVX    @R0,A
0007 08                INC     R0
0008 EB                MOV     A,R3
0009 F2                MOVX    @R0,A
000A 7800        R     MOV     R0,#LOW nch
000C EF                MOV     A,R7
000D F2                MOVX    @R0,A
                                           ; SOURCE LINE # 9
                                           ; SOURCE LINE # 10
000E E4                CLR     A
000F 7800        R     MOV     R0,#LOW xSum
0011 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 11
0012 7DAA              MOV     R5,#0AAH
0014 120000      E     LCALL   _SendByte
                                           ; SOURCE LINE # 12
0017 7800        R     MOV     R0,#LOW nch
0019 E2                MOVX    A,@R0
001A FF                MOV     R7,A
001B 08                INC     R0
001C E2                MOVX    A,@R0
001D FD                MOV     R5,A
001E 120000      E     LCALL   _SendByte
                                           ; SOURCE LINE # 13
0021 7800        R     MOV     R0,#LOW adr
0023 E2                MOVX    A,@R0
0024 7800        R     MOV     R0,#LOW xSum
0026 F2                MOVX    @R0,A
                                           ; SOURCE LINE # 14
0027 E4                CLR     A
0028 900000      R     MOV     DPTR,#i
002B F0                MOVX    @DPTR,A
002C A3                INC     DPTR
002D F0                MOVX    @DPTR,A
002E         ?C0001:
002E 7800        R     MOV     R0,#LOW N
0030 E2                MOVX    A,@R0
0031 FE                MOV     R6,A
0032 08                INC     R0
0033 E2                MOVX    A,@R0
0034 FF                MOV     R7,A
0035 900000      R     MOV     DPTR,#i
0038 E0                MOVX    A,@DPTR
0039 FC                MOV     R4,A
003A A3                INC     DPTR
003B E0                MOVX    A,@DPTR
003C FD                MOV     R5,A
003D C3                CLR     C
003E 9F                SUBB    A,R7
003F EE                MOV     A,R6
0040 6480              XRL     A,#080H
0042 F8                MOV     R0,A
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 7   

0043 EC                MOV     A,R4
0044 6480              XRL     A,#080H
0046 98                SUBB    A,R0
0047 4003              JC      $ + 5H
0049 020000      R     LJMP    ?C0002
                                           ; SOURCE LINE # 15
                                           ; SOURCE LINE # 16
004C 7400        R     MOV     A,#LOW buf
004E 2D                ADD     A,R5
004F F582              MOV     DPL,A
0051 7400        R     MOV     A,#HIGH buf
0053 3C                ADDC    A,R4
0054 F583              MOV     DPH,A
0056 E0                MOVX    A,@DPTR
0057 FF                MOV     R7,A
0058 64AB              XRL     A,#0ABH
005A 6004              JZ      ?C0005
005C 7E01              MOV     R6,#01H
005E 8002              SJMP    ?C0006
0060         ?C0005:
0060 7E00              MOV     R6,#00H
0062         ?C0006:
0062 EF                MOV     A,R7
0063 64AA              XRL     A,#0AAH
0065 6004              JZ      ?C0007
0067 7F01              MOV     R7,#01H
0069 8002              SJMP    ?C0008
006B         ?C0007:
006B 7F00              MOV     R7,#00H
006D         ?C0008:
006D EF                MOV     A,R7
006E 5E                ANL     A,R6
006F FF                MOV     R7,A
0070 7400        R     MOV     A,#LOW buf
0072 2D                ADD     A,R5
0073 F582              MOV     DPL,A
0075 7400        R     MOV     A,#HIGH buf
0077 3C                ADDC    A,R4
0078 F583              MOV     DPH,A
007A E0                MOVX    A,@DPTR
007B FD                MOV     R5,A
007C 64AC              XRL     A,#0ACH
007E 6004              JZ      ?C0009
0080 7E01              MOV     R6,#01H
0082 8002              SJMP    ?C0010
0084         ?C0009:
0084 7E00              MOV     R6,#00H
0086         ?C0010:
0086 EE                MOV     A,R6
0087 5F                ANL     A,R7
0088 7800        R     MOV     R0,#LOW nch
008A 6004              JZ      ?C0004
                                           ; SOURCE LINE # 17
                                           ; SOURCE LINE # 18
008C E2                MOVX    A,@R0
008D FF                MOV     R7,A
                                           ; SOURCE LINE # 19
008E 801F              SJMP    ?C0042
0090         ?C0004:
                                           ; SOURCE LINE # 20
                                           ; SOURCE LINE # 21
0090 E2                MOVX    A,@R0
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 8   

0091 FF                MOV     R7,A
0092 7DAC              MOV     R5,#0ACH
0094 120000      E     LCALL   _SendByte
                                           ; SOURCE LINE # 22
0097 7800        R     MOV     R0,#LOW nch
0099 E2                MOVX    A,@R0
009A FF                MOV     R7,A
009B 900000      R     MOV     DPTR,#i
009E E0                MOVX    A,@DPTR
009F FC                MOV     R4,A
00A0 A3                INC     DPTR
00A1 E0                MOVX    A,@DPTR
00A2 2400        R     ADD     A,#LOW buf
00A4 F582              MOV     DPL,A
00A6 7400        R     MOV     A,#HIGH buf
00A8 3C                ADDC    A,R4
00A9 F583              MOV     DPH,A
00AB E0                MOVX    A,@DPTR
00AC 2456              ADD     A,#056H
00AE FD                MOV     R5,A
00AF         ?C0042:
00AF 120000      E     LCALL   _SendByte
                                           ; SOURCE LINE # 23
00B2         ?C0011:
                                           ; SOURCE LINE # 24
00B2 7800        R     MOV     R0,#LOW xSum
00B4 E2                MOVX    A,@R0
00B5 FF                MOV     R7,A
00B6 900000      R     MOV     DPTR,#i
00B9 E0                MOVX    A,@DPTR
00BA FC                MOV     R4,A
00BB A3                INC     DPTR
00BC E0                MOVX    A,@DPTR
00BD 2400        R     ADD     A,#LOW buf
00BF F582              MOV     DPL,A
00C1 7400        R     MOV     A,#HIGH buf
00C3 3C                ADDC    A,R4
00C4 F583              MOV     DPH,A
00C6 E0                MOVX    A,@DPTR
00C7 FE                MOV     R6,A
00C8 EF                MOV     A,R7
00C9 6E                XRL     A,R6
00CA F2                MOVX    @R0,A
                                           ; SOURCE LINE # 25
00CB 900000      R     MOV     DPTR,#i+01H
00CE E0                MOVX    A,@DPTR
00CF 04                INC     A
00D0 F0                MOVX    @DPTR,A
00D1 7006              JNZ     ?C0040
00D3 900000      R     MOV     DPTR,#i
00D6 E0                MOVX    A,@DPTR
00D7 04                INC     A
00D8 F0                MOVX    @DPTR,A
00D9         ?C0040:
00D9 020000      R     LJMP    ?C0001
00DC         ?C0002:
                                           ; SOURCE LINE # 26
00DC 7800        R     MOV     R0,#LOW nch
00DE E2                MOVX    A,@R0
00DF FF                MOV     R7,A
00E0 7800        R     MOV     R0,#LOW xSum
00E2 E2                MOVX    A,@R0
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 9   

00E3 FD                MOV     R5,A
00E4 120000      E     LCALL   _SendByte
                                           ; SOURCE LINE # 27
00E7 7800        R     MOV     R0,#LOW nch
00E9 E2                MOVX    A,@R0
00EA FF                MOV     R7,A
00EB 7DAB              MOV     R5,#0ABH
00ED 020000      E     LJMP    _SendByte
             ; FUNCTION _SendByte_volkovStyle (END)

             ; FUNCTION L?0043 (BEGIN)
0000 120000      E     LCALL   ?C?LSTPDATA
             ; FUNCTION clear_buf (BEGIN)
                                           ; SOURCE LINE # 31
                                           ; SOURCE LINE # 32
                                           ; SOURCE LINE # 33
0003 E4                CLR     A
0004 900000      R     MOV     DPTR,#i
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 F0                MOVX    @DPTR,A
000A         ?C0013:
000A 900000      R     MOV     DPTR,#i
000D E0                MOVX    A,@DPTR
000E FE                MOV     R6,A
000F A3                INC     DPTR
0010 E0                MOVX    A,@DPTR
0011 FF                MOV     R7,A
0012 C3                CLR     C
0013 940A              SUBB    A,#0AH
0015 EE                MOV     A,R6
0016 6480              XRL     A,#080H
0018 9480              SUBB    A,#080H
001A 501C              JNC     ?C0016
                                           ; SOURCE LINE # 34
                                           ; SOURCE LINE # 35
001C 7400        R     MOV     A,#LOW buf
001E 2F                ADD     A,R7
001F F582              MOV     DPL,A
0021 7400        R     MOV     A,#HIGH buf
0023 3E                ADDC    A,R6
0024 F583              MOV     DPH,A
0026 E4                CLR     A
0027 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 36
0028 900000      R     MOV     DPTR,#i+01H
002B E0                MOVX    A,@DPTR
002C 04                INC     A
002D F0                MOVX    @DPTR,A
002E 70DA              JNZ     ?C0013
0030 900000      R     MOV     DPTR,#i
0033 E0                MOVX    A,@DPTR
0034 04                INC     A
0035 F0                MOVX    @DPTR,A
0036         ?C0041:
0036 80D2              SJMP    ?C0013
                                           ; SOURCE LINE # 37
0038         ?C0016:
0038 22                RET     
             ; FUNCTION clear_buf (END)

             ; FUNCTION identify (BEGIN)
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 10  

                                           ; SOURCE LINE # 39
                                           ; SOURCE LINE # 40
                                           ; SOURCE LINE # 41
0000 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 42
0003 900000      R     MOV     DPTR,#buf
0006 7401              MOV     A,#01H
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 43
0009 7E00              MOV     R6,#00H
000B FF                MOV     R7,A
                                           ; SOURCE LINE # 44
000C         ?C0017:
000C 22                RET     
             ; FUNCTION identify (END)

             ; FUNCTION repeat_last_ans (BEGIN)
                                           ; SOURCE LINE # 46
                                           ; SOURCE LINE # 47
                                           ; SOURCE LINE # 48
0000 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 49
0003 900000      R     MOV     DPTR,#buf
0006 7402              MOV     A,#02H
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 50
0009 7E00              MOV     R6,#00H
000B 7F01              MOV     R7,#01H
                                           ; SOURCE LINE # 51
000D         ?C0018:
000D 22                RET     
             ; FUNCTION repeat_last_ans (END)

             ; FUNCTION get_state (BEGIN)
                                           ; SOURCE LINE # 53
                                           ; SOURCE LINE # 54
                                           ; SOURCE LINE # 55
0000 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 56
0003 900000      R     MOV     DPTR,#buf
0006 7403              MOV     A,#03H
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 57
0009 7E00              MOV     R6,#00H
000B 7F01              MOV     R7,#01H
                                           ; SOURCE LINE # 58
000D         ?C0019:
000D 22                RET     
             ; FUNCTION get_state (END)

             ; FUNCTION _move (BEGIN)
                                           ; SOURCE LINE # 60
0000 7800        R     MOV     R0,#LOW Nstep
                                           ; SOURCE LINE # 61
                                           ; SOURCE LINE # 62
0002 120000      R     LCALL   L?0043
                                           ; SOURCE LINE # 63
0005 900000      R     MOV     DPTR,#buf
0008 7404              MOV     A,#04H
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 64
000B 7800        R     MOV     R0,#LOW Nstep
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 11  

000D E2                MOVX    A,@R0
000E FC                MOV     R4,A
000F 08                INC     R0
0010 E2                MOVX    A,@R0
0011 FD                MOV     R5,A
0012 08                INC     R0
0013 E2                MOVX    A,@R0
0014 FE                MOV     R6,A
0015 08                INC     R0
0016 E2                MOVX    A,@R0
0017 FF                MOV     R7,A
0018 7818              MOV     R0,#018H
001A 120000      E     LCALL   ?C?SLSHR
001D A3                INC     DPTR
001E EF                MOV     A,R7
001F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 65
0020 7800        R     MOV     R0,#LOW Nstep
0022 E2                MOVX    A,@R0
0023 FC                MOV     R4,A
0024 08                INC     R0
0025 E2                MOVX    A,@R0
0026 FD                MOV     R5,A
0027 08                INC     R0
0028 E2                MOVX    A,@R0
0029 FE                MOV     R6,A
002A 08                INC     R0
002B E2                MOVX    A,@R0
002C FF                MOV     R7,A
002D 7810              MOV     R0,#010H
002F 120000      E     LCALL   ?C?SLSHR
0032 A3                INC     DPTR
0033 EF                MOV     A,R7
0034 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 66
0035 7800        R     MOV     R0,#LOW Nstep
0037 E2                MOVX    A,@R0
0038 FC                MOV     R4,A
0039 08                INC     R0
003A E2                MOVX    A,@R0
003B FD                MOV     R5,A
003C 08                INC     R0
003D E2                MOVX    A,@R0
003E FE                MOV     R6,A
003F 08                INC     R0
0040 E2                MOVX    A,@R0
0041 FF                MOV     R7,A
0042 7808              MOV     R0,#08H
0044 120000      E     LCALL   ?C?SLSHR
0047 A3                INC     DPTR
0048 EF                MOV     A,R7
0049 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 67
004A 7800        R     MOV     R0,#LOW Nstep
004C 08                INC     R0
004D 08                INC     R0
004E 08                INC     R0
004F E2                MOVX    A,@R0
0050 FF                MOV     R7,A
0051 A3                INC     DPTR
0052 EF                MOV     A,R7
0053 F0                MOVX    @DPTR,A
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 12  

                                           ; SOURCE LINE # 68
0054 08                INC     R0
0055 E2                MOVX    A,@R0
0056 A3                INC     DPTR
0057 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 69
0058 7E00              MOV     R6,#00H
005A 7F06              MOV     R7,#06H
                                           ; SOURCE LINE # 70
005C         ?C0020:
005C 22                RET     
             ; FUNCTION _move (END)

             ; FUNCTION _move_without_ac (BEGIN)
                                           ; SOURCE LINE # 72
0000 7800        R     MOV     R0,#LOW Nstep
                                           ; SOURCE LINE # 73
                                           ; SOURCE LINE # 74
0002 120000      R     LCALL   L?0043
                                           ; SOURCE LINE # 75
0005 900000      R     MOV     DPTR,#buf
0008 7405              MOV     A,#05H
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 76
000B 7800        R     MOV     R0,#LOW Nstep
000D E2                MOVX    A,@R0
000E FC                MOV     R4,A
000F 08                INC     R0
0010 E2                MOVX    A,@R0
0011 FD                MOV     R5,A
0012 08                INC     R0
0013 E2                MOVX    A,@R0
0014 FE                MOV     R6,A
0015 08                INC     R0
0016 E2                MOVX    A,@R0
0017 FF                MOV     R7,A
0018 7818              MOV     R0,#018H
001A 120000      E     LCALL   ?C?SLSHR
001D A3                INC     DPTR
001E EF                MOV     A,R7
001F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 77
0020 7800        R     MOV     R0,#LOW Nstep
0022 E2                MOVX    A,@R0
0023 FC                MOV     R4,A
0024 08                INC     R0
0025 E2                MOVX    A,@R0
0026 FD                MOV     R5,A
0027 08                INC     R0
0028 E2                MOVX    A,@R0
0029 FE                MOV     R6,A
002A 08                INC     R0
002B E2                MOVX    A,@R0
002C FF                MOV     R7,A
002D 7810              MOV     R0,#010H
002F 120000      E     LCALL   ?C?SLSHR
0032 A3                INC     DPTR
0033 EF                MOV     A,R7
0034 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 78
0035 7800        R     MOV     R0,#LOW Nstep
0037 E2                MOVX    A,@R0
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 13  

0038 FC                MOV     R4,A
0039 08                INC     R0
003A E2                MOVX    A,@R0
003B FD                MOV     R5,A
003C 08                INC     R0
003D E2                MOVX    A,@R0
003E FE                MOV     R6,A
003F 08                INC     R0
0040 E2                MOVX    A,@R0
0041 FF                MOV     R7,A
0042 7808              MOV     R0,#08H
0044 120000      E     LCALL   ?C?SLSHR
0047 A3                INC     DPTR
0048 EF                MOV     A,R7
0049 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 79
004A 7800        R     MOV     R0,#LOW Nstep
004C 08                INC     R0
004D 08                INC     R0
004E 08                INC     R0
004F E2                MOVX    A,@R0
0050 FF                MOV     R7,A
0051 A3                INC     DPTR
0052 EF                MOV     A,R7
0053 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 80
0054 08                INC     R0
0055 E2                MOVX    A,@R0
0056 A3                INC     DPTR
0057 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 81
0058 7E00              MOV     R6,#00H
005A 7F06              MOV     R7,#06H
                                           ; SOURCE LINE # 82
005C         ?C0021:
005C 22                RET     
             ; FUNCTION _move_without_ac (END)

             ; FUNCTION _config (BEGIN)
                                           ; SOURCE LINE # 84
;---- Variable 'mov_cur' assigned to Register 'R4' ----
0000 AC07              MOV     R4,AR7
;---- Variable 'hold_delay' assigned to Register 'R3' ----
;---- Variable 'hold_cur' assigned to Register 'R5' ----
                                           ; SOURCE LINE # 85
                                           ; SOURCE LINE # 86
0002 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 87
0005 900000      R     MOV     DPTR,#buf
0008 7406              MOV     A,#06H
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 88
000B A3                INC     DPTR
000C EC                MOV     A,R4
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 89
000E A3                INC     DPTR
000F ED                MOV     A,R5
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 90
0011 A3                INC     DPTR
0012 EB                MOV     A,R3
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 14  

0013 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 91
0014 7800        R     MOV     R0,#LOW CFG
0016 E2                MOVX    A,@R0
0017 A3                INC     DPTR
0018 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 92
0019 7E00              MOV     R6,#00H
001B 7F05              MOV     R7,#05H
                                           ; SOURCE LINE # 93
001D         ?C0022:
001D 22                RET     
             ; FUNCTION _config (END)

             ; FUNCTION _speed (BEGIN)
                                           ; SOURCE LINE # 95
0000 7800        R     MOV     R0,#LOW min_speed
0002 EE                MOV     A,R6
0003 F2                MOVX    @R0,A
0004 08                INC     R0
0005 EF                MOV     A,R7
0006 F2                MOVX    @R0,A
;---- Variable 'acceleration' assigned to Register 'R2/R3' ----
;---- Variable 'max_speed' assigned to Register 'R4/R5' ----
                                           ; SOURCE LINE # 96
                                           ; SOURCE LINE # 97
0007 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 98
000A 900000      R     MOV     DPTR,#buf
000D 7407              MOV     A,#07H
000F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 99
0010 18                DEC     R0
0011 E2                MOVX    A,@R0
0012 A3                INC     DPTR
0013 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 100
0014 08                INC     R0
0015 E2                MOVX    A,@R0
0016 A3                INC     DPTR
0017 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 101
0018 EC                MOV     A,R4
0019 A3                INC     DPTR
001A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 102
001B ED                MOV     A,R5
001C A3                INC     DPTR
001D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 103
001E EA                MOV     A,R2
001F A3                INC     DPTR
0020 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 104
0021 EB                MOV     A,R3
0022 A3                INC     DPTR
0023 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 105
0024 7E00              MOV     R6,#00H
0026 7F07              MOV     R7,#07H
                                           ; SOURCE LINE # 106
0028         ?C0023:
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 15  

0028 22                RET     
             ; FUNCTION _speed (END)

             ; FUNCTION forced_stop (BEGIN)
                                           ; SOURCE LINE # 108
                                           ; SOURCE LINE # 109
                                           ; SOURCE LINE # 110
0000 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 111
0003 900000      R     MOV     DPTR,#buf
0006 7408              MOV     A,#08H
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 112
0009 7E00              MOV     R6,#00H
000B 7F01              MOV     R7,#01H
                                           ; SOURCE LINE # 113
000D         ?C0024:
000D 22                RET     
             ; FUNCTION forced_stop (END)

             ; FUNCTION off_curr (BEGIN)
                                           ; SOURCE LINE # 115
                                           ; SOURCE LINE # 116
                                           ; SOURCE LINE # 117
0000 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 118
0003 900000      R     MOV     DPTR,#buf
0006 7409              MOV     A,#09H
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 119
0009 7E00              MOV     R6,#00H
000B 7F01              MOV     R7,#01H
                                           ; SOURCE LINE # 120
000D         ?C0025:
000D 22                RET     
             ; FUNCTION off_curr (END)

             ; FUNCTION save_param (BEGIN)
                                           ; SOURCE LINE # 122
                                           ; SOURCE LINE # 123
                                           ; SOURCE LINE # 124
0000 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 125
0003 900000      R     MOV     DPTR,#buf
0006 740A              MOV     A,#0AH
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 126
0009 7E00              MOV     R6,#00H
000B 7F01              MOV     R7,#01H
                                           ; SOURCE LINE # 127
000D         ?C0026:
000D 22                RET     
             ; FUNCTION save_param (END)

             ; FUNCTION _set_imp (BEGIN)
                                           ; SOURCE LINE # 129
0000 7800        R     MOV     R0,#LOW N
0002 EE                MOV     A,R6
0003 F2                MOVX    @R0,A
0004 08                INC     R0
0005 EF                MOV     A,R7
0006 F2                MOVX    @R0,A
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 16  

;---- Variable 'Nrepeat' assigned to Register 'R2/R3' ----
;---- Variable 'Nstart' assigned to Register 'R4/R5' ----
                                           ; SOURCE LINE # 130
                                           ; SOURCE LINE # 131
0007 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 132
000A 900000      R     MOV     DPTR,#buf
000D 740B              MOV     A,#0BH
000F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 133
0010 18                DEC     R0
0011 E2                MOVX    A,@R0
0012 A3                INC     DPTR
0013 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 134
0014 08                INC     R0
0015 E2                MOVX    A,@R0
0016 A3                INC     DPTR
0017 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 135
0018 EC                MOV     A,R4
0019 A3                INC     DPTR
001A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 136
001B ED                MOV     A,R5
001C A3                INC     DPTR
001D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 137
001E EA                MOV     A,R2
001F A3                INC     DPTR
0020 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 138
0021 EB                MOV     A,R3
0022 A3                INC     DPTR
0023 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 139
0024 7E00              MOV     R6,#00H
0026 7F07              MOV     R7,#07H
                                           ; SOURCE LINE # 140
0028         ?C0027:
0028 22                RET     
             ; FUNCTION _set_imp (END)

             ; FUNCTION missed_steps (BEGIN)
                                           ; SOURCE LINE # 142
                                           ; SOURCE LINE # 143
                                           ; SOURCE LINE # 144
0000 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 145
0003 900000      R     MOV     DPTR,#buf
0006 740C              MOV     A,#0CH
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 146
0009 7E00              MOV     R6,#00H
000B 7F01              MOV     R7,#01H
                                           ; SOURCE LINE # 147
000D         ?C0028:
000D 22                RET     
             ; FUNCTION missed_steps (END)

             ; FUNCTION read_config (BEGIN)
                                           ; SOURCE LINE # 149
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 17  

                                           ; SOURCE LINE # 150
                                           ; SOURCE LINE # 151
0000 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 152
0003 900000      R     MOV     DPTR,#buf
0006 740D              MOV     A,#0DH
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 153
0009 7E00              MOV     R6,#00H
000B 7F01              MOV     R7,#01H
                                           ; SOURCE LINE # 154
000D         ?C0029:
000D 22                RET     
             ; FUNCTION read_config (END)

             ; FUNCTION read_speed (BEGIN)
                                           ; SOURCE LINE # 156
                                           ; SOURCE LINE # 157
                                           ; SOURCE LINE # 158
0000 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 159
0003 900000      R     MOV     DPTR,#buf
0006 740E              MOV     A,#0EH
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 160
0009 7E00              MOV     R6,#00H
000B 7F01              MOV     R7,#01H
                                           ; SOURCE LINE # 161
000D         ?C0030:
000D 22                RET     
             ; FUNCTION read_speed (END)

             ; FUNCTION freq_test (BEGIN)
                                           ; SOURCE LINE # 163
                                           ; SOURCE LINE # 164
                                           ; SOURCE LINE # 165
0000 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 166
0003 900000      R     MOV     DPTR,#buf
0006 740F              MOV     A,#0FH
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 167
0009 7E00              MOV     R6,#00H
000B 7F01              MOV     R7,#01H
                                           ; SOURCE LINE # 168
000D         ?C0031:
000D 22                RET     
             ; FUNCTION freq_test (END)

             ; FUNCTION _calibration (BEGIN)
                                           ; SOURCE LINE # 171
0000 7800        R     MOV     R0,#LOW Period
0002 120000      E     LCALL   ?C?LSTPDATA
                                           ; SOURCE LINE # 172
                                           ; SOURCE LINE # 173
0005 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 174
0008 900000      R     MOV     DPTR,#buf
000B 7410              MOV     A,#010H
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 175
000E 7800        R     MOV     R0,#LOW Period
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 18  

0010 E2                MOVX    A,@R0
0011 FC                MOV     R4,A
0012 08                INC     R0
0013 E2                MOVX    A,@R0
0014 FD                MOV     R5,A
0015 08                INC     R0
0016 E2                MOVX    A,@R0
0017 FE                MOV     R6,A
0018 08                INC     R0
0019 E2                MOVX    A,@R0
001A FF                MOV     R7,A
001B 7818              MOV     R0,#018H
001D 120000      E     LCALL   ?C?SLSHR
0020 A3                INC     DPTR
0021 EF                MOV     A,R7
0022 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 176
0023 7800        R     MOV     R0,#LOW Period
0025 E2                MOVX    A,@R0
0026 FC                MOV     R4,A
0027 08                INC     R0
0028 E2                MOVX    A,@R0
0029 FD                MOV     R5,A
002A 08                INC     R0
002B E2                MOVX    A,@R0
002C FE                MOV     R6,A
002D 08                INC     R0
002E E2                MOVX    A,@R0
002F FF                MOV     R7,A
0030 7810              MOV     R0,#010H
0032 120000      E     LCALL   ?C?SLSHR
0035 A3                INC     DPTR
0036 EF                MOV     A,R7
0037 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 177
0038 7800        R     MOV     R0,#LOW Period
003A E2                MOVX    A,@R0
003B FC                MOV     R4,A
003C 08                INC     R0
003D E2                MOVX    A,@R0
003E FD                MOV     R5,A
003F 08                INC     R0
0040 E2                MOVX    A,@R0
0041 FE                MOV     R6,A
0042 08                INC     R0
0043 E2                MOVX    A,@R0
0044 FF                MOV     R7,A
0045 7808              MOV     R0,#08H
0047 120000      E     LCALL   ?C?SLSHR
004A A3                INC     DPTR
004B EF                MOV     A,R7
004C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 178
004D 7800        R     MOV     R0,#LOW Period
004F 08                INC     R0
0050 08                INC     R0
0051 08                INC     R0
0052 E2                MOVX    A,@R0
0053 FF                MOV     R7,A
0054 A3                INC     DPTR
0055 EF                MOV     A,R7
0056 F0                MOVX    @DPTR,A
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 19  

                                           ; SOURCE LINE # 179
0057 7E00              MOV     R6,#00H
0059 7F05              MOV     R7,#05H
                                           ; SOURCE LINE # 180
005B         ?C0032:
005B 22                RET     
             ; FUNCTION _calibration (END)

             ; FUNCTION _move_precision_accuracy (BEGIN)
                                           ; SOURCE LINE # 182
0000 7800        R     MOV     R0,#LOW Nstep
0002 120000      E     LCALL   ?C?LSTPDATA
                                           ; SOURCE LINE # 183
                                           ; SOURCE LINE # 184
0005 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 185
0008 900000      R     MOV     DPTR,#buf
000B 7411              MOV     A,#011H
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 186
000E 7800        R     MOV     R0,#LOW Nstep
0010 E2                MOVX    A,@R0
0011 FC                MOV     R4,A
0012 08                INC     R0
0013 E2                MOVX    A,@R0
0014 FD                MOV     R5,A
0015 08                INC     R0
0016 E2                MOVX    A,@R0
0017 FE                MOV     R6,A
0018 08                INC     R0
0019 E2                MOVX    A,@R0
001A FF                MOV     R7,A
001B 7818              MOV     R0,#018H
001D 120000      E     LCALL   ?C?SLSHR
0020 A3                INC     DPTR
0021 EF                MOV     A,R7
0022 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 187
0023 7800        R     MOV     R0,#LOW Nstep
0025 E2                MOVX    A,@R0
0026 FC                MOV     R4,A
0027 08                INC     R0
0028 E2                MOVX    A,@R0
0029 FD                MOV     R5,A
002A 08                INC     R0
002B E2                MOVX    A,@R0
002C FE                MOV     R6,A
002D 08                INC     R0
002E E2                MOVX    A,@R0
002F FF                MOV     R7,A
0030 7810              MOV     R0,#010H
0032 120000      E     LCALL   ?C?SLSHR
0035 A3                INC     DPTR
0036 EF                MOV     A,R7
0037 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 188
0038 7800        R     MOV     R0,#LOW Nstep
003A E2                MOVX    A,@R0
003B FC                MOV     R4,A
003C 08                INC     R0
003D E2                MOVX    A,@R0
003E FD                MOV     R5,A
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 20  

003F 08                INC     R0
0040 E2                MOVX    A,@R0
0041 FE                MOV     R6,A
0042 08                INC     R0
0043 E2                MOVX    A,@R0
0044 FF                MOV     R7,A
0045 7808              MOV     R0,#08H
0047 120000      E     LCALL   ?C?SLSHR
004A A3                INC     DPTR
004B EF                MOV     A,R7
004C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 189
004D 7800        R     MOV     R0,#LOW Nstep
004F 08                INC     R0
0050 08                INC     R0
0051 08                INC     R0
0052 E2                MOVX    A,@R0
0053 FF                MOV     R7,A
0054 A3                INC     DPTR
0055 EF                MOV     A,R7
0056 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 190
0057 08                INC     R0
0058 E2                MOVX    A,@R0
0059 FC                MOV     R4,A
005A 08                INC     R0
005B E2                MOVX    A,@R0
005C FD                MOV     R5,A
005D 08                INC     R0
005E E2                MOVX    A,@R0
005F FE                MOV     R6,A
0060 08                INC     R0
0061 E2                MOVX    A,@R0
0062 FF                MOV     R7,A
0063 7818              MOV     R0,#018H
0065 120000      E     LCALL   ?C?SLSHR
0068 A3                INC     DPTR
0069 EF                MOV     A,R7
006A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 191
006B 7800        R     MOV     R0,#LOW dt
006D E2                MOVX    A,@R0
006E FC                MOV     R4,A
006F 08                INC     R0
0070 E2                MOVX    A,@R0
0071 FD                MOV     R5,A
0072 08                INC     R0
0073 E2                MOVX    A,@R0
0074 FE                MOV     R6,A
0075 08                INC     R0
0076 E2                MOVX    A,@R0
0077 FF                MOV     R7,A
0078 7810              MOV     R0,#010H
007A 120000      E     LCALL   ?C?SLSHR
007D A3                INC     DPTR
007E EF                MOV     A,R7
007F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 192
0080 7800        R     MOV     R0,#LOW dt
0082 E2                MOVX    A,@R0
0083 FC                MOV     R4,A
0084 08                INC     R0
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 21  

0085 E2                MOVX    A,@R0
0086 FD                MOV     R5,A
0087 08                INC     R0
0088 E2                MOVX    A,@R0
0089 FE                MOV     R6,A
008A 08                INC     R0
008B E2                MOVX    A,@R0
008C FF                MOV     R7,A
008D 7808              MOV     R0,#08H
008F 120000      E     LCALL   ?C?SLSHR
0092 A3                INC     DPTR
0093 EF                MOV     A,R7
0094 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 193
0095 7800        R     MOV     R0,#LOW dt
0097 08                INC     R0
0098 08                INC     R0
0099 08                INC     R0
009A E2                MOVX    A,@R0
009B FF                MOV     R7,A
009C A3                INC     DPTR
009D EF                MOV     A,R7
009E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 194
009F 7E00              MOV     R6,#00H
00A1 7F09              MOV     R7,#09H
                                           ; SOURCE LINE # 195
00A3         ?C0033:
00A3 22                RET     
             ; FUNCTION _move_precision_accuracy (END)

             ; FUNCTION output_imp (BEGIN)
                                           ; SOURCE LINE # 197
                                           ; SOURCE LINE # 198
                                           ; SOURCE LINE # 199
0000 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 200
0003 900000      R     MOV     DPTR,#buf
0006 7412              MOV     A,#012H
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 201
0009 7E00              MOV     R6,#00H
000B 7F01              MOV     R7,#01H
                                           ; SOURCE LINE # 202
000D         ?C0034:
000D 22                RET     
             ; FUNCTION output_imp (END)

             ; FUNCTION _set_abs_coord (BEGIN)
                                           ; SOURCE LINE # 204
0000 7800        R     MOV     R0,#LOW coord
0002 120000      E     LCALL   ?C?LSTPDATA
                                           ; SOURCE LINE # 205
                                           ; SOURCE LINE # 206
0005 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 207
0008 900000      R     MOV     DPTR,#buf
000B 7413              MOV     A,#013H
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 208
000E 7800        R     MOV     R0,#LOW coord
0010 E2                MOVX    A,@R0
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 22  

0011 FC                MOV     R4,A
0012 08                INC     R0
0013 E2                MOVX    A,@R0
0014 FD                MOV     R5,A
0015 08                INC     R0
0016 E2                MOVX    A,@R0
0017 FE                MOV     R6,A
0018 08                INC     R0
0019 E2                MOVX    A,@R0
001A FF                MOV     R7,A
001B 7818              MOV     R0,#018H
001D 120000      E     LCALL   ?C?SLSHR
0020 A3                INC     DPTR
0021 EF                MOV     A,R7
0022 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 209
0023 7800        R     MOV     R0,#LOW coord
0025 E2                MOVX    A,@R0
0026 FC                MOV     R4,A
0027 08                INC     R0
0028 E2                MOVX    A,@R0
0029 FD                MOV     R5,A
002A 08                INC     R0
002B E2                MOVX    A,@R0
002C FE                MOV     R6,A
002D 08                INC     R0
002E E2                MOVX    A,@R0
002F FF                MOV     R7,A
0030 7810              MOV     R0,#010H
0032 120000      E     LCALL   ?C?SLSHR
0035 A3                INC     DPTR
0036 EF                MOV     A,R7
0037 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 210
0038 7800        R     MOV     R0,#LOW coord
003A E2                MOVX    A,@R0
003B FC                MOV     R4,A
003C 08                INC     R0
003D E2                MOVX    A,@R0
003E FD                MOV     R5,A
003F 08                INC     R0
0040 E2                MOVX    A,@R0
0041 FE                MOV     R6,A
0042 08                INC     R0
0043 E2                MOVX    A,@R0
0044 FF                MOV     R7,A
0045 7808              MOV     R0,#08H
0047 120000      E     LCALL   ?C?SLSHR
004A A3                INC     DPTR
004B EF                MOV     A,R7
004C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 211
004D 7800        R     MOV     R0,#LOW coord
004F 08                INC     R0
0050 08                INC     R0
0051 08                INC     R0
0052 E2                MOVX    A,@R0
0053 FF                MOV     R7,A
0054 A3                INC     DPTR
0055 EF                MOV     A,R7
0056 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 212
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 23  

0057 7E00              MOV     R6,#00H
0059 7F05              MOV     R7,#05H
                                           ; SOURCE LINE # 213
005B         ?C0035:
005B 22                RET     
             ; FUNCTION _set_abs_coord (END)

             ; FUNCTION get_abs_coord (BEGIN)
                                           ; SOURCE LINE # 215
                                           ; SOURCE LINE # 216
                                           ; SOURCE LINE # 217
0000 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 218
0003 900000      R     MOV     DPTR,#buf
0006 7414              MOV     A,#014H
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 219
0009 7E00              MOV     R6,#00H
000B 7F01              MOV     R7,#01H
                                           ; SOURCE LINE # 220
000D         ?C0036:
000D 22                RET     
             ; FUNCTION get_abs_coord (END)

             ; FUNCTION _syncr (BEGIN)
                                           ; SOURCE LINE # 222
;---- Variable 'flags' assigned to Register 'R5' ----
0000 AD07              MOV     R5,AR7
                                           ; SOURCE LINE # 223
                                           ; SOURCE LINE # 224
0002 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 225
0005 900000      R     MOV     DPTR,#buf
0008 7415              MOV     A,#015H
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 226
000B A3                INC     DPTR
000C ED                MOV     A,R5
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 227
000E 7E00              MOV     R6,#00H
0010 7F02              MOV     R7,#02H
                                           ; SOURCE LINE # 228
0012         ?C0037:
0012 22                RET     
             ; FUNCTION _syncr (END)

             ; FUNCTION _set_addr_2 (BEGIN)
                                           ; SOURCE LINE # 230
0000 7800        R     MOV     R0,#LOW num
0002 EE                MOV     A,R6
0003 F2                MOVX    @R0,A
0004 08                INC     R0
0005 EF                MOV     A,R7
0006 F2                MOVX    @R0,A
;---- Variable 'addr' assigned to Register 'R3' ----
;---- Variable 'rate' assigned to Register 'R5' ----
                                           ; SOURCE LINE # 231
                                           ; SOURCE LINE # 233
0007 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 234
000A E4                CLR     A
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 24  

000B 900000      R     MOV     DPTR,#buf
000E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 235
000F A3                INC     DPTR
0010 74AA              MOV     A,#0AAH
0012 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 236
0013 A3                INC     DPTR
0014 7457              MOV     A,#057H
0016 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 237
0017 A3                INC     DPTR
0018 7453              MOV     A,#053H
001A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 238
001B 18                DEC     R0
001C E2                MOVX    A,@R0
001D A3                INC     DPTR
001E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 239
001F 08                INC     R0
0020 E2                MOVX    A,@R0
0021 A3                INC     DPTR
0022 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 240
0023 A3                INC     DPTR
0024 ED                MOV     A,R5
0025 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 241
0026 A3                INC     DPTR
0027 EB                MOV     A,R3
0028 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 242
0029 7E00              MOV     R6,#00H
002B 7F08              MOV     R7,#08H
                                           ; SOURCE LINE # 243
002D         ?C0038:
002D 22                RET     
             ; FUNCTION _set_addr_2 (END)

             ; FUNCTION _set_addr_1 (BEGIN)
                                           ; SOURCE LINE # 245
;---- Variable 'addr' assigned to Register 'R5' ----
;---- Variable 'rate' assigned to Register 'R4' ----
0000 AC07              MOV     R4,AR7
                                           ; SOURCE LINE # 246
                                           ; SOURCE LINE # 248
0002 120000      R     LCALL   clear_buf
                                           ; SOURCE LINE # 249
0005 900000      R     MOV     DPTR,#buf
0008 7455              MOV     A,#055H
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 250
000B A3                INC     DPTR
000C EC                MOV     A,R4
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 251
000E A3                INC     DPTR
000F ED                MOV     A,R5
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 252
0011 7E00              MOV     R6,#00H
C51 COMPILER V9.50a   COMENGINE                                                            02/18/2022 15:09:24 PAGE 25  

0013 7F03              MOV     R7,#03H
                                           ; SOURCE LINE # 253
0015         ?C0039:
0015 22                RET     
             ; FUNCTION _set_addr_1 (END)



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1197    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =     12    ----
   PDATA SIZE       =   ----      41
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
